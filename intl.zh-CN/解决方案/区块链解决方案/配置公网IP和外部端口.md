# 配置公网IP和外部端口 {#task_ukb_fxv_vdb .task}

如需要将区块链网络开放给容器集群外的应用程序和管理监控工具访问，需要具备以下几项前提条件：

-   有外部可达的公网地址。实现方式既可以通过给 worker 节点绑定弹性公网 IP，也可以创建负载均衡实例（后端服务器添加 worker 节点），使用其提供的公网IP。在 [环境准备](intl.zh-CN/解决方案/区块链解决方案/环境准备.md#) 文档中我们已经对第一种方式进行了介绍，请参阅其中的[为 worker 节点绑定弹性公网 IP](intl.zh-CN/解决方案/区块链解决方案/环境准备.md#section_ph2_355_vdb)章节。
-   允许外部端口列表中的 NodePort 的入方向访问，实现方式是通过 ECS 的安全组规则设置。

1.   登录 [云服务器 ECS 管理控制台](https://ecs.console.aliyun.com/)。 
2.   在左侧导航栏，单击 **网络和安全** \> **安全组**。 
3.   在安全组列表中，单击选择你的 Kubernetes 集群所在的地域。 
4.   在列表中，kubernetes 集群的安全组名称带有 k8s\_sg 字样，请据此选择对应的安全组 ID ，单击 **配置规则**。 

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/17795/15679941939869_zh-CN.png)

5.   如在 **入方向** 列表中没有符合要求的安全组规则，则可单击 **添加安全组规则**，在弹出的添加安全组规则对话窗口进行设置。以下是一个参考设置示例： 

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/17795/15679941939870_zh-CN.png)

    -   为 **规则方向** 选择 **入方向**。
    -   为 **端口范围** 根据区块链网络的外部端口 NodePort 范围选择合适的端口范围区间。
    -   为 **授权对象** 根据实际访问需要选择合适的地址范围。
6.   单击 **确定** 之后，安全组规则便被成功添加到列表内，并且立即生效。 

