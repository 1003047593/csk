---
keyword: [metrics-server, 边缘监控, 边缘运维通道]
---

# 扩展边缘监控能力

本文为您介绍基于边缘运维通道接入运维监控组件，从而扩展对边缘应用的监控能力，实现您运维监控系统的无缝接入。

-   边缘托管集群中，集群默认安装的监控组件（metrics-server）会通过kubelet获取到容器的监控数据，如容器的CPU、Memory等。
-   业务上云过程中需要迁移原系统中的运维监控方案到云上，实现云下系统到云上的无缝迁移，或者您需要收集其他监控数据，如业务应用的监控数据，因此您需要接入自研或者开源的其他运维监控组件。

**说明：**

基于边缘运维通道来扩展接入的运维监控组件需要满足如下要求（其他监控方案需要用户自行设计）：

-   运维监控组件和边缘运维通道组件（edge-tunnel-server）部署在同一个云端节点。
-   运维监控组件以**HTTP PULL**方式获取边缘业务的监控数据。

## 部署模型

扩展的运维监控组件部署如下图所示。

![部署模型](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/0657449951/p100632.png)

## 运维监控配置

扩展的运维监控组件需要根据运维监控组件访问监控对象模式，来提前设置监控配置。具体配置如下：

-   **节点IP:端口**的模式访问监控数据

    监控组件以http://节点IP:端口/\{path\}为端点获取监控数据。

    -   边缘应用以主机网络模式部署。
    -   默认支持端口包括：10250、10255。
    -   其他端口通过配置edge-tunnel-server-cfg configmaps来扩展。

        以监控组件以【http://\{节点IP\}:8080/metrics】为端点来获取应用的监控数据为例，配置如下：

        执行命令：

        ```
        cat <<EOF | kubectl apply -f
        ```

        返回结果如下：

        ```
        apiVersion: v1
        data:
          dnat-ports-pair: '8080=10264' #配置方式为: 访问端口1=10264，访问端口2=10264
        kind: ConfigMap
        metadata:
          name: edge-tunnel-server-cfg
          namespace: kube-system
        EOF
        ```

-   **PodIP:端口**的模式访问监控数据

    监控组件以http://PodIP:端口/\{path\}为端点获取监控数据。

    当前不支持采用该种模式。


**相关文档**  


[边缘托管集群概述](t1884276.md#)

[创建边缘托管版集群](/cn.zh-CN/边缘容器服务ACK@Edge用户指南/边缘托管集群管理/创建边缘托管版集群.md)

